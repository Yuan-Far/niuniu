{"version":3,"sources":["utils/index.js","MonthPaper/constants/index.js","MonthPaper/components/getXlsx.jsx","MonthPaper/components/TableGenerate/index.jsx","MonthPaper/components/FunnelGenerate/index.jsx","MonthPaper/index.js","MonthPaper/MonthPaper.jsx","App.js","serviceWorker.js","index.js"],"names":["Canvas2Image","$support","canvas","document","createElement","ctx","getContext","imageData","getImageData","dataURL","toDataURL","btoa","window","scaleCanvas","width","height","w","h","undefined","retCanvas","retCtx","drawImage","getDataURL","type","saveFile","strData","location","href","genImage","img","src","fixType","toLowerCase","replace","match","encodeData","data","str","i","length","String","fromCharCode","makeURI","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","y","iOffsetY","strPixelRow","x","iOffsetX","c","concat","saveAsImage","getElementById","test","convertToImage","saveAsPNG","saveAsJPEG","saveAsGIF","saveAsBMP","convertToPNG","convertToJPEG","convertToGIF","convertToBMP","xlsxCgiToData","日期","title","当天登入人数","主动进入人数","邀请进入人数","推送消息唤醒","分享人数","分享次数","分享且有成功邀入的人","拉人数","商品详情页pv","商品详情页uv","会场页pv","会场页uv","加购人数","下单人数","付款人数","gmv","商祥到达率","会场达到率","下单转化","支付转化","人均gmv","roleXlsxToData","用户角色","次日留存","次日留存率","用户角色_1","当天登入人数_1","次日留存_1","次日留存率_1","uv绝对值变化","uv变化百分比","次日留存率变化","ROLEMAP","FILTER_KEYS","KEYS_MAP","CLEAN_DATA","UploadFile","submitFile","btnText","disabled","showFileList","accept","showIcon","showMargin","blankrows","useState","fileList","setFileList","uploadProp","name","action","headers","authoriztion","onChange","info","file","status","message","error","slice","includes","originFileObj","fileReader","FileReader","onload","ev","target","result","sheets","XLSX","read","Sheets","filesData","sheet","utils","sheet_to_json","defval","raw","range","fileName","map","item","Object","keys","reduce","resultObj","key","trim","filter","row","values","some","value","updateData","newData","xlsxData","forEach","tempObj","newKey","split","push","fmFilesData","readAsBinaryString","style","marginLeft","prefixCls","TableGenerate","splice","pop","className","index","currentLoginPerson_1","currentLoginPerson","data-show","parseInt","UVChange","UVChangePercent","nextKeepPercent_1","nextKeepPercent","nextKeepPercentChange","FunnelGenerate","dataSource","date","cleanObj","obj","keysToKeep","childIndicator","pastWeek","currentWeek","change","changePercent","console","log","Fragment","arriveGoods","arriveActivity","goodsUV","activityUV","orderTransform","orderCount","payTransform","payOne","aveGmv","MonthPaper","Header","Layout","Footer","Content","Sider","showBtn","setShowButton","setDataSource","setFileName","minHeight","defaultSelectedKeys","mode","Item","margin","id","block","onClick","currentEle","offsetWidth","offsetHeight","scale","html2canvas","then","context","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","textAlign","App","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1b0fc2c4.chunk.js","sourcesContent":["/**\n * covert canvas to image\n * and save the image file\n */\n/*eslint-disable */\n\nconst Canvas2Image = function () {\n\n\t// check if support sth.\n\tvar $support = function () {\n\t\tvar canvas = document.createElement('canvas'),\n\t\t\tctx = canvas.getContext('2d');\n\n\t\treturn {\n\t\t\tcanvas: !!ctx,\n\t\t\timageData: !!ctx.getImageData,\n\t\t\tdataURL: !!canvas.toDataURL,\n\t\t\tbtoa: !!window.btoa\n\t\t};\n\t}();\n\n\tvar downloadMime = 'image/octet-stream';\n\n\tfunction scaleCanvas (canvas, width, height) {\n\t\tvar w = canvas.width,\n\t\t\th = canvas.height;\n\t\tif (width == undefined) {\n\t\t\twidth = w;\n\t\t}\n\t\tif (height == undefined) {\n\t\t\theight = h;\n\t\t}\n\n\t\tvar retCanvas = document.createElement('canvas');\n\t\tvar retCtx = retCanvas.getContext('2d');\n\t\tretCanvas.width = width;\n\t\tretCanvas.height = height;\n\t\tretCtx.drawImage(canvas, 0, 0, w, h, 0, 0, width, height);\n\t\treturn retCanvas;\n\t}\n\n\tfunction getDataURL (canvas, type, width, height) {\n\t\tcanvas = scaleCanvas(canvas, width, height);\n\t\treturn canvas.toDataURL(type);\n\t}\n\n\tfunction saveFile (strData) {\n\t\tdocument.location.href = strData;\n\t}\n\n\tfunction genImage(strData) {\n\t\tvar img = document.createElement('img');\n\t\timg.src = strData;\n\t\treturn img;\n\t}\n\tfunction fixType (type) {\n\t\ttype = type.toLowerCase().replace(/jpg/i, 'jpeg');\n\t\tvar r = type.match(/png|jpeg|bmp|gif/)[0];\n\t\treturn 'image/' + r;\n\t}\n\tfunction encodeData (data) {\n\t\tif (!window.btoa) { throw 'btoa undefined' }\n\t\tvar str = '';\n\t\tif (typeof data == 'string') {\n\t\t\tstr = data;\n\t\t} else {\n\t\t\tfor (var i = 0; i < data.length; i ++) {\n\t\t\t\tstr += String.fromCharCode(data[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn btoa(str);\n\t}\n\tfunction getImageData (canvas) {\n\t\tvar w = canvas.width,\n\t\t\th = canvas.height;\n\t\treturn canvas.getContext('2d').getImageData(0, 0, w, h);\n\t}\n\tfunction makeURI (strData, type) {\n\t\treturn 'data:' + type + ';base64,' + strData;\n\t}\n\n\n\t/**\n\t * create bitmap image\n\t * 按照规则生成图片响应头和响应体\n\t */\n\tvar genBitmapImage = function (oData) {\n\n\t\t//\n\t\t// BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\n\t\t// BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\n\t\t//\n\n\t\tvar biWidth  = oData.width;\n\t\tvar biHeight\t= oData.height;\n\t\tvar biSizeImage = biWidth * biHeight * 3;\n\t\tvar bfSize  = biSizeImage + 54; // total header size = 54 bytes\n\n\t\t//\n\t\t//  typedef struct tagBITMAPFILEHEADER {\n\t\t//  \tWORD bfType;\n\t\t//  \tDWORD bfSize;\n\t\t//  \tWORD bfReserved1;\n\t\t//  \tWORD bfReserved2;\n\t\t//  \tDWORD bfOffBits;\n\t\t//  } BITMAPFILEHEADER;\n\t\t//\n\t\tvar BITMAPFILEHEADER = [\n\t\t\t// WORD bfType -- The file type signature; must be \"BM\"\n\t\t\t0x42, 0x4D,\n\t\t\t// DWORD bfSize -- The size, in bytes, of the bitmap file\n\t\t\tbfSize & 0xff, bfSize >> 8 & 0xff, bfSize >> 16 & 0xff, bfSize >> 24 & 0xff,\n\t\t\t// WORD bfReserved1 -- Reserved; must be zero\n\t\t\t0, 0,\n\t\t\t// WORD bfReserved2 -- Reserved; must be zero\n\t\t\t0, 0,\n\t\t\t// DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\n\t\t\t54, 0, 0, 0\n\t\t];\n\n\t\t//\n\t\t//  typedef struct tagBITMAPINFOHEADER {\n\t\t//  \tDWORD biSize;\n\t\t//  \tLONG  biWidth;\n\t\t//  \tLONG  biHeight;\n\t\t//  \tWORD  biPlanes;\n\t\t//  \tWORD  biBitCount;\n\t\t//  \tDWORD biCompression;\n\t\t//  \tDWORD biSizeImage;\n\t\t//  \tLONG  biXPelsPerMeter;\n\t\t//  \tLONG  biYPelsPerMeter;\n\t\t//  \tDWORD biClrUsed;\n\t\t//  \tDWORD biClrImportant;\n\t\t//  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\n\t\t//\n\t\tvar BITMAPINFOHEADER = [\n\t\t\t// DWORD biSize -- The number of bytes required by the structure\n\t\t\t40, 0, 0, 0,\n\t\t\t// LONG biWidth -- The width of the bitmap, in pixels\n\t\t\tbiWidth & 0xff, biWidth >> 8 & 0xff, biWidth >> 16 & 0xff, biWidth >> 24 & 0xff,\n\t\t\t// LONG biHeight -- The height of the bitmap, in pixels\n\t\t\tbiHeight & 0xff, biHeight >> 8  & 0xff, biHeight >> 16 & 0xff, biHeight >> 24 & 0xff,\n\t\t\t// WORD biPlanes -- The number of planes for the target device. This value must be set to 1\n\t\t\t1, 0,\n\t\t\t// WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\n\t\t\t// has a maximum of 2^24 colors (16777216, Truecolor)\n\t\t\t24, 0,\n\t\t\t// DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\n\t\t\t0, 0, 0, 0,\n\t\t\t// DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\n\t\t\tbiSizeImage & 0xff, biSizeImage >> 8 & 0xff, biSizeImage >> 16 & 0xff, biSizeImage >> 24 & 0xff,\n\t\t\t// LONG biXPelsPerMeter, unused\n\t\t\t0,0,0,0,\n\t\t\t// LONG biYPelsPerMeter, unused\n\t\t\t0,0,0,0,\n\t\t\t// DWORD biClrUsed, the number of color indexes of palette, unused\n\t\t\t0,0,0,0,\n\t\t\t// DWORD biClrImportant, unused\n\t\t\t0,0,0,0\n\t\t];\n\n\t\tvar iPadding = (4 - ((biWidth * 3) % 4)) % 4;\n\n\t\tvar aImgData = oData.data;\n\n\t\tvar strPixelData = '';\n\t\tvar biWidth4 = biWidth<<2;\n\t\tvar y = biHeight;\n\t\tvar fromCharCode = String.fromCharCode;\n\n\t\tdo {\n\t\t\tvar iOffsetY = biWidth4*(y-1);\n\t\t\tvar strPixelRow = '';\n\t\t\tfor (var x = 0; x < biWidth; x++) {\n\t\t\t\tvar iOffsetX = x<<2;\n\t\t\t\tstrPixelRow += fromCharCode(aImgData[iOffsetY+iOffsetX+2]) +\n\t\t\t\t\t\t\t   fromCharCode(aImgData[iOffsetY+iOffsetX+1]) +\n\t\t\t\t\t\t\t   fromCharCode(aImgData[iOffsetY+iOffsetX]);\n\t\t\t}\n\n\t\t\tfor (var c = 0; c < iPadding; c++) {\n\t\t\t\tstrPixelRow += String.fromCharCode(0);\n\t\t\t}\n\n\t\t\tstrPixelData += strPixelRow;\n\t\t} while (--y);\n\n\t\tvar strEncoded = encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);\n\n\t\treturn strEncoded;\n\t};\n\n\t/**\n\t * saveAsImage\n\t * @param canvasElement\n\t * @param {String} image type\n\t * @param {Number} [optional] png width\n\t * @param {Number} [optional] png height\n\t */\n\tvar saveAsImage = function (canvas, width, height, type) {\n\t\tif ($support.canvas && $support.dataURL) {\n\t\t\tif (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n\t\t\tif (type == undefined) { type = 'png'; }\n\t\t\ttype = fixType(type);\n\t\t\tif (/bmp/.test(type)) {\n\t\t\t\tvar data = getImageData(scaleCanvas(canvas, width, height));\n\t\t\t\tvar strData = genBitmapImage(data);\n\t\t\t\tsaveFile(makeURI(strData, downloadMime));\n\t\t\t} else {\n\t\t\t\tvar strData = getDataURL(canvas, type, width, height);\n\t\t\t\tsaveFile(strData.replace(type, downloadMime));\n\t\t\t}\n\t\t}\n\t};\n\n\tvar convertToImage = function (canvas, width, height, type) {\n\t\tif ($support.canvas && $support.dataURL) {\n\t\t\tif (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n\t\t\tif (type == undefined) { type = 'png'; }\n\t\t\ttype = fixType(type);\n\n\t\t\tif (/bmp/.test(type)) {\n\t\t\t\tvar data = getImageData(scaleCanvas(canvas, width, height));\n\t\t\t\tvar strData = genBitmapImage(data);\n\t\t\t\treturn genImage(makeURI(strData, 'image/bmp'));\n\t\t\t} else {\n\t\t\t\tvar strData = getDataURL(canvas, type, width, height);\n\t\t\t\treturn genImage(strData);\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\treturn {\n\t\tsaveAsImage: saveAsImage,\n\t\tsaveAsPNG: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'png');\n\t\t},\n\t\tsaveAsJPEG: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'jpeg');\n\t\t},\n\t\tsaveAsGIF: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'gif');\n\t\t},\n\t\tsaveAsBMP: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'bmp');\n\t\t},\n\n\t\tconvertToImage: convertToImage,\n\t\tconvertToPNG: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'png');\n\t\t},\n\t\tconvertToJPEG: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'jpeg');\n\t\t},\n\t\tconvertToGIF: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'gif');\n\t\t},\n\t\tconvertToBMP: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'bmp');\n\t\t}\n\t};\n\n}();\n\nconst cleanObj = (obj, keysToKeep = [], childIndicator) => {\n  Object.keys(obj).forEach(key => {\n    if (key === childIndicator) {\n      cleanObj(obj[key], keysToKeep, childIndicator);\n    } else if (!keysToKeep.includes(key)) {\n      delete obj[key];\n    }\n  });\n  return obj;\n};\n\nconst mapKeys = (obj, fn) =>\n  Object.keys(obj).reduce((acc, k) => {\n    acc[fn(obj[k], k, obj)] = obj[k];\n    return acc;\n  }, {});\n\nexport {\n\tCanvas2Image as default,\n\tcleanObj,\n\tmapKeys\n}\n","export const xlsxCgiToData = {\n  日期: {\n    title: '日期',\n    type: 'date'\n  },\n  当天登入人数: {\n    title: '当天登入人数',\n    type: 'currentPerson',\n  },\n  主动进入人数: {\n    title: '主动进入人数',\n    type: 'currentInitiativeCount',\n  },\n  邀请进入人数: {\n    title: '邀请进入人数',\n    type: 'invitePerson',\n  },\n  推送消息唤醒: {\n    title: '推送消息唤醒',\n    type: 'pushMsgWake',\n  },\n  分享人数: {\n    title: '分享人数',\n    type: 'sharePerson',\n  },\n  分享次数: {\n    title: '分享次数',\n    type: 'shareCount',\n  },\n  分享且有成功邀入的人: {\n    title: '分享且有成功邀入的人',\n    type: 'shareSuccPersonal',\n  },\n  拉人数: {\n    title: '拉人数',\n    type: 'getCount',\n  },\n  商品详情页pv: {\n    title: '商品详情页pv',\n    type: 'goodsPV',\n  },\n  商品详情页uv: {\n    title: '商品详情页uv',\n    type: 'goodsUV',\n  },\n  会场页pv: {\n    title: '会场页pv',\n    type: 'activityPV',\n  },\n  会场页uv: {\n    title: '会场页uv',\n    type: 'activityUV',\n  },\n  加购人数: {\n    title: '加购人数',\n    type: 'addCart',\n  },\n  下单人数: {\n    title: '下单人数',\n    type: 'orderCount',\n  },\n  付款人数: {\n    title: '付款人数',\n    type: 'payOne',\n  },\n  gmv: {\n    title: 'gmv',\n    type: 'gmv',\n  },\n  商祥到达率: {\n    title: '商祥到达率',\n    type: 'arriveGoods',\n  },\n  会场达到率: {\n    title: '会场达到率',\n    type: 'arriveActivity',\n  },\n  下单转化: {\n    title: '下单转化',\n    type: 'orderTransform',\n  },\n  支付转化: {\n    title: '支付转化',\n    type: 'payTransform',\n  },\n  人均gmv: {\n    title: '人均gmv',\n    type: 'aveGmv',\n  },\n};\nexport const roleXlsxToData = {\n  用户角色: {\n    title: '用户角色',\n    type: 'role'\n  },\n  当天登入人数: {\n    title: '当天登入人数',\n    type: 'currentLoginPerson'\n  },\n  次日留存: {\n    title: '次日留存',\n    type: 'nextKeep'\n  },\n  次日留存率: {\n    title: '次日留存率',\n    type: 'nextKeepPercent'\n  },\n  用户角色_1: {\n    title: '用户角色_1',\n    type: 'role_1'\n  },\n  当天登入人数_1: {\n    title: '当天登入人数_1',\n    type: 'currentLoginPerson_1'\n  },\n  次日留存_1: {\n    title: '次日留存_1',\n    type: 'nextKeep_1'\n  },\n  次日留存率_1: {\n    title: '次日留存率_1',\n    type: 'nextKeepPercent_1'\n  },\n  uv绝对值变化: {\n    title: 'uv绝对值变化',\n    type: 'UVChange'\n  },\n  uv变化百分比: {\n    title: 'uv变化百分比',\n    type: 'UVChangePercent'\n  },\n  次日留存率变化: {\n    title: '次日留存率变化',\n    type: 'nextKeepPercentChange'\n  },\n}\n\nexport const ROLEMAP = [\n  {\n    title: '汇总',\n    type: 'total'\n  },\n  {\n    title: '新用户',\n    type: 'newUser'\n  },\n  {\n    title: '宝宝',\n    type: 'baby'\n  },\n  {\n    title: '直升掌柜',\n    type: 'shopKeeper'\n  },\n  {\n    title: '10粉掌柜',\n    type: 'shopKeeper10'\n  },\n  {\n    title: '50粉掌柜',\n    type: 'shopKeeper50'\n  },\n  {\n    title: '青铜',\n    type: 'bronze'\n  },\n  {\n    title: '白银',\n    type: 'sliver'\n  },\n  {\n    title: '黄金',\n    type: 'gold'\n  },\n  {\n    title: '钻石',\n    type: 'diamond'\n  }\n];\n\nexport const FILTER_KEYS = ['本周', '上周', '变化', '变化百分比'];\n\nexport const KEYS_MAP = {\n  '上周': '9',\n  '本周': '18',\n  '变化': '19',\n  '变化百分比': '20'\n};\n\nexport const CLEAN_DATA = [\n  'date',\n  'arriveGoods',\n  'arriveActivity',\n  'goodsUV',\n  'activityUV',\n  'orderTransform',\n  'orderCount',\n  'payTransform',\n  'payOne',\n  'aveGmv',\n  'gmv'\n];","import React, { useState } from 'react';\nimport { message, Button, Upload, Icon } from 'antd';\nimport { xlsxCgiToData, roleXlsxToData } from '../constants/index';\nimport XLSX from 'xlsx'\n\n// const findObjKeyByValue = (data, value, compare = (a, b) => a === b) =>\n//   Object.keys(data).find(k => compare(data[k], value))\n\nconst fmFilesData = (data, name) => {\n  const newData = []\n  const xlsxData = name === 'roles.xlsx' ? roleXlsxToData : xlsxCgiToData;\n  data.forEach(item => {\n    const tempObj = {}\n    Object.keys(item).forEach(key => {\n      const newKey = xlsxData[key.split('\\n')[0].trim()].type || key.split('\\n')[0].trim()\n      const value = item[key]\n      tempObj[newKey] = value\n    })\n    newData.push(tempObj)\n  })\n  return newData\n}\n\n// to do del upload compont\nconst UploadFile = ({\n  submitFile,\n  btnText = 'Submit File',\n  disabled,\n  showFileList = true,\n  accept = '.xlsx',\n  showIcon = true,\n  showMargin = true,\n  blankrows = false\n}) => {\n  const [fileList, setFileList] = useState([])\n\n  const updateData = (result, fileName) => {\n    let data = result\n    data = (result || []).map(item => {\n      return Object.keys(item).reduce((resultObj, key) => {\n        resultObj[key] = item[key].trim()\n        return resultObj\n      }, {})\n    })\n\n    data = data.filter(row => Object.values(row).some(value => value)) // filter blank rows\n\n    submitFile(data, fileName)\n  }\n\n  const uploadProp = {\n    name: 'file',\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76', //bad option\n    headers: {\n      authoriztion: 'authorization-text'\n    },\n    accept,\n    onChange: info => {\n      if (info.file.status === 'removed') {\n        return\n      }\n      if (info.fileList.length > 1) {\n        message.error(`only can upload one file`)\n        return false\n      }\n      let fileList = info.fileList\n      fileList = fileList.slice(-1)\n      if (!['done', 'error'].includes(info.file.status)) {\n        const { originFileObj, name } = info.file\n        const fileReader = new FileReader()\n        fileReader.onload = ev => {\n          const data = ev.target.result\n          const wk = XLSX.read(data, { type: 'binary' })\n          const sheets = wk.Sheets\n          let filesData = []\n          for (const sheet in sheets) {\n            filesData = filesData.concat(\n              XLSX.utils.sheet_to_json(sheets[sheet], {\n                defval: '',\n                raw: false,\n                range: 0,\n                blankrows\n              })\n            )\n          }\n          \n          updateData(fmFilesData(filesData, name), name)\n        }\n        fileReader.readAsBinaryString(originFileObj)\n        fileList[0].status = 'done'\n      } else if (info.file.status === 'error') {\n        message.error(`${info.file.name} file upload failed.`)\n      }\n      if (info.file.status !== 'uploading' && !showFileList) {\n        setFileList([])\n      } else {\n        setFileList([...info.fileList])\n      }\n    }\n  }\n  if (!showFileList) {\n    uploadProp.fileList = fileList\n  }\n\n  return (\n    <Upload {...uploadProp}>\n      <Button style={{ marginLeft: showMargin ? 16 : 0 }} disabled={disabled}>\n        {showIcon && <Icon type='upload' />} {btnText}\n      </Button>\n    </Upload>\n  )\n}\n\nexport default UploadFile\n","import React from 'react';\nimport { ROLEMAP } from '../../constants/index'\nimport './style.scss';\n\nconst prefixCls = 'table-generate';\n\nconst TableGenerate = ({\n  data\n}) => {\n  data.splice(0, 0, data[data.length - 1])\n  data.pop(-1)\n  return <div className={prefixCls}>\n    <div className={`${prefixCls}-title`}>\n      <div>\n        登录人数\n      </div>\n      <div>\n        次日留存率\n      </div>\n    </div>\n    <div className={`${prefixCls}-table`}>\n      <div className={`${prefixCls}-tip`}>\n        {\n          ROLEMAP.map((item, index) => <div\n            key={index}\n            className={`${prefixCls}-role-title`}\n          >\n            {item.title}\n          </div>)\n        }\n      </div>\n      <div className={`${prefixCls}-content`}>\n        {\n          data && data.length > 0 && data.map((item, index) => <div\n            className={`${prefixCls}-item`}\n            key={index}\n          >\n            <div className={`${prefixCls}-current`}>{item.currentLoginPerson_1}</div>\n            <div className={`${prefixCls}-past`}>{`上周 ${item.currentLoginPerson}`}</div>\n            <div className={`${prefixCls}-rate`}>\n              <span\n                className={`${prefixCls}-change`}\n                data-show={parseInt(item.UVChange, 10) > 0 ? '1' : '0'}\n              >{item.UVChange}</span>\n              <span data-show={parseInt(item.UVChangePercent, 10) > 0 ? '1' : '0'}>{item.UVChangePercent}</span>\n            </div>\n          </div>\n          )\n        }\n      </div>\n      <div className={`${prefixCls}-content-login`}>\n        {\n          data && data.length > 0 && data.map((item, index) => <div\n            className={`${prefixCls}-item`}\n            key={index}\n          >\n            <div className={`${prefixCls}-current`}>{item.nextKeepPercent_1}</div>\n            <div className={`${prefixCls}-past`}>{`上周 ${item.nextKeepPercent}`}</div>\n            <div className={`${prefixCls}-rate`}>\n              <span data-show={parseInt(item.nextKeepPercentChange, 10) > 0 ? '1' : '0'}>{item.nextKeepPercentChange}</span>\n            </div>\n          </div>\n          )\n        }\n      </div>\n    </div>\n  </div>\n}\n\nexport default TableGenerate;\n","import React from 'react';\nimport { cleanObj } from '../../../utils/index';\nimport { FILTER_KEYS, CLEAN_DATA, KEYS_MAP } from '../../constants/index'\n\nimport './style.scss';\n\nconst prefixCls = 'funnel-generate';\n\nconst FunnelGenerate = ({\n  data\n}) => {\n  let dataSource = {};\n  const midData = data.filter(item => FILTER_KEYS.includes(item.date)).map(item => cleanObj(item, CLEAN_DATA));\n  midData.forEach(item => {\n    dataSource[KEYS_MAP[item.date]] = item\n  })\n  const pastWeek = dataSource['9'];\n  const currentWeek = dataSource['18'];\n  const change = dataSource['19'];\n  const changePercent = dataSource['20'];\n  console.log(currentWeek)\n  return <div className={prefixCls}>\n    {\n      dataSource && dataSource['9'] && <React.Fragment><div className={`${prefixCls}-header`}>\n        <div className={`${prefixCls}-mid`}>\n          <div className={`${prefixCls}-mid-title`}>{`到达商品页 ${currentWeek.arriveGoods}`}</div>\n          <div>\n            <p>{`上周${pastWeek.arriveGoods}`}</p>\n            <span\n              data-show={parseInt(changePercent.arriveGoods, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-mid-span`}\n            >{changePercent.arriveGoods}</span>\n          </div>\n        </div>\n        <div className={`${prefixCls}-mid`}>\n          <div className={`${prefixCls}-mid-title`}>{`到达会场 ${currentWeek.arriveActivity}`}</div>\n          <div>\n            <p>{`上周${pastWeek.arriveActivity}`}</p>\n            <span\n              data-show={parseInt(changePercent.arriveActivity, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-mid-span`}\n            >{changePercent.arriveActivity}</span>\n          </div>\n        </div>\n      </div>\n      <div className={`${prefixCls}-goods`}>\n        <div className={`${prefixCls}-goods-wrapper`}>\n          <div className={`${prefixCls}-goods-content`}>\n            <div className={`${prefixCls}-goods-uv`}>\n              <div className={`${prefixCls}-goods-title`}>商品详情UV</div>\n              <div className={`${prefixCls}-goods-count`}>\n                <div className={`${prefixCls}-title`}>{currentWeek.goodsUV}</div>\n                <div>{`上周 ${pastWeek.goodsUV}`}</div>\n              </div>\n            </div>\n            <div className={`${prefixCls}-meeting-uv`}>\n              <div className={`${prefixCls}-goods-title`}>会场UV</div>\n              <div className={`${prefixCls}-meeting-count`}>\n                <div className={`${prefixCls}-title`}>{currentWeek.activityUV}</div>\n                <div>{`上周 ${pastWeek.activityUV}`}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className={`${prefixCls}-mid`}>\n        <div className={`${prefixCls}-mid-title`}>{`下单转化 ${currentWeek.orderTransform}`}</div>\n          <div>\n            <p>{`上周${pastWeek.orderTransform}`}</p>\n            <span\n              data-show={parseInt(change.orderTransform, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-mid-span`}\n            >{change.orderTransform}</span>\n            <span\n              data-show={parseInt(changePercent.orderTransform, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-mid-span`}\n            >{changePercent.orderTransform}</span>\n          </div>\n        </div>\n      <div className={`${prefixCls}-order`}>\n        <div className={`${prefixCls}-order-wrapper`}>\n          <div className={`${prefixCls}-order-content`}>\n          <div className={`${prefixCls}-title`}>{`下单人数 ${currentWeek.orderCount}`}</div>\n            <p>{`上周 ${pastWeek.orderCount}`}</p>\n            <span\n              data-show={parseInt(change.orderCount, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-order-span`}\n            >{change.orderCount}</span>\n            <span\n              data-show={parseInt(changePercent.orderCount, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-order-span`}\n            >{changePercent.orderCount}</span>\n          </div>\n        </div>\n      </div>\n      <div className={`${prefixCls}-mid`}>\n        <div className={`${prefixCls}-mid-title`}>{`支付转化 ${currentWeek.payTransform}`}</div>\n        <div>\n          <p>{`上周${pastWeek.payTransform}`}</p>\n          <span\n            data-show={parseInt(change.payTransform, 10) > 0 ? '1' : '0'}\n            className={`${prefixCls}-mid-span`}\n          >{change.payTransform}</span>\n          <span\n            data-show={parseInt(changePercent.payTransform, 10) > 0 ? '1' : '0'}\n            className={`${prefixCls}-mid-span`}\n          >{changePercent.payTransform}</span>\n        </div>\n      </div>\n      <div className={`${prefixCls}-pay`}>\n        <div className={`${prefixCls}-pay-wrapper`}>\n          <div className={`${prefixCls}-pay-content`}>\n            <div className={`${prefixCls}-title`}>{`付款UV ${currentWeek.payOne}`}</div>\n            <p>{`上周 ${pastWeek.payOne}`}</p>\n            <span\n              data-show={parseInt(change.payOne, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-pay-span`}\n            >{change.payOne}</span>\n            <span\n              data-show={parseInt(changePercent.payOne, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-pay-span`}\n            >{changePercent.payOne}</span>\n          </div>\n        </div>\n      </div>\n      <div className={`${prefixCls}-mid`}>\n        <div className={`${prefixCls}-mid-title`}>{`人均GMV ${currentWeek.aveGmv}`}</div>\n        <div>\n          <p>{`上周${pastWeek.aveGmv}`}</p>\n          <span\n            data-show={parseInt(changePercent.aveGmv, 10) > 0 ? '1' : '0'}\n            className={`${prefixCls}-mid-span`}\n          >{changePercent.aveGmv}</span>\n        </div>\n      </div>\n      <div className={`${prefixCls}-gmv`}>\n        <div className={`${prefixCls}-gmv-wrapper`}>\n          <div className={`${prefixCls}-gmv-content`}>\n            <div className={`${prefixCls}-title`}>{`GMV ${currentWeek.gmv}`}</div>\n            <p>{`上周 ${pastWeek.gmv}`}</p>\n            <span\n              data-show={parseInt(changePercent.gmv, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-gmv-span`}\n            >{changePercent.gmv}</span>\n            <span\n              data-show={parseInt(changePercent.gmv, 10) > 0 ? '1' : '0'}\n              className={`${prefixCls}-gmv-span`}\n            >{changePercent.gmv}</span>\n          </div>\n        </div>\n      </div></React.Fragment>\n    }\n  </div>\n}\n\nexport default FunnelGenerate;\n","import MonthPaper from './MonthPaper';\n\nexport default MonthPaper;\n","import React, { useState } from 'react';\nimport { Layout, Menu, Button } from 'antd';\nimport html2canvas from 'html2canvas';\nimport Canvas2Image from '../utils/index';\nimport UploadFile from './components/getXlsx';\nimport TableGenerate from './components/TableGenerate';\nimport FunnelGenerate from './components/FunnelGenerate';\n\nimport './style.scss';\n\nconst prefixCls = 'month-paper';\n\n// const FUNNEL = 'funnel.xlsx';\nconst ROLE = 'roles.xlsx';\n\nconst MonthPaper = () => {\n  const { Header, Footer, Content, Sider } = Layout;\n  const [showBtn, setShowButton] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n  const [fileName, setFileName] = useState('');\n  const submitFile = (data, name) => {\n    if (data) {\n      setShowButton(true)\n      setFileName(name);\n      setDataSource(data);\n    } else {\n      setShowButton(false);\n    }\n    return data;\n  }\n\n  const getPic = () => {\n    const id = fileName === ROLE ? 'table' : 'funnel';\n    const currentEle = document.getElementById(id);\n    const width = currentEle.offsetWidth;\n    const height = currentEle.offsetHeight;\n    const canvas = document.createElement('canvas');\n    const scale = 2;\n\n    canvas.width = width * 4;\n    canvas.height = height * 5;\n    canvas.getContext('2d').scale(scale, scale);\n\n    html2canvas(currentEle, {\n      scale: scale,\n      canvas: canvas,\n      width: canvas.width,\n      height: canvas.height\n    }).then(canvas => {\n      const context = canvas.getContext('2d');\n      // 【重要】关闭抗锯齿\n      context.mozImageSmoothingEnabled = false;\n      context.webkitImageSmoothingEnabled = false;\n      context.msImageSmoothingEnabled = false;\n      context.imageSmoothingEnabled = false;\n      context.scale(2, 2);\n      Canvas2Image.saveAsPNG(canvas, canvas.width, canvas.height);\n    });\n  }\n  return <Layout style={{ minHeight: '100vh' }}>\n    <Header className={`${prefixCls}-header`}>大猪蹄子</Header>\n    <Layout>\n      <Sider width={80} className={`${prefixCls}-sider`}>\n        <Menu defaultSelectedKeys={['1']} mode='inline'>\n          <Menu.Item key='1'>\n            <span>生成</span>\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Content style={{ margin: '0 16px' }}>\n        <div className={`${prefixCls}-file`}>\n          <UploadFile\n            btnText='Submit File'\n            submitFile={submitFile}\n          />\n          {\n            showBtn && (fileName === ROLE ? <div id='table'>\n              <TableGenerate\n                data={dataSource}\n              />\n            </div> : <div id='funnel'>\n            <FunnelGenerate\n              data={dataSource}\n            />\n            </div>)\n          }\n        </div>\n        <div className={`${prefixCls}-generate`}>\n          <Button\n            type='primary'\n            block\n            onClick={getPic}\n            disabled={!showBtn}\n          >生成</Button>\n        </div>\n      </Content>\n    </Layout>\n    <Footer style={{ textAlign: 'center' }}>大美妞 ©2020 Created by NiuNiu</Footer>\n  </Layout>\n}\n\nexport default MonthPaper;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport MonthPaper from './MonthPaper';\n\nconst App = () => {\n  return <BrowserRouter>\n    <MonthPaper />\n  </BrowserRouter>\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './assets/scss/reset.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}